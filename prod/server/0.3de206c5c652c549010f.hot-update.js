exports.id=0,exports.modules={"./src/server/server.js":function(e,o,s){"use strict";s.r(o);var n=s("./build/contracts/FlightSuretyApp.json"),t=s("./build/contracts/FlightSuretyData.json"),r=s("./src/server/config.json"),c=s("web3"),a=s.n(c),l=s("express"),u=s.n(l),i=r.localhost,d=new a.a(new a.a.providers.WebsocketProvider(i.url.replace("http","ws")));d.eth.defaultAccount=d.eth.accounts[0];var f=new d.eth.Contract(n.abi,i.appAddress),g=new d.eth.Contract(t.abi,i.dataAddress),h=[],p=[0,10,20,30,40,50];d.eth.getAccounts((function(e,o){!function(e){g.methods.authorizeContract(i.appAddress).send({from:e},(function(e,o){e?console.log(e):console.log("found authorized contract: ".concat(i.appAddress))}))}(o[0]);for(var s=10;s<35;s++)f.methods.registerOracle().send({from:o[s],value:d.utils.toWei("1","ether"),gas:1e6},(function(e,o){e&&console.log(e)}));for(s=10;s<35;s++)f.methods.getMyIndexes().call({from:o[s],gas:1e5},(function(e,n){if(e)console.log(e);else{var t={address:o[s],index:n};h.push(t)}}))})),f.events.OracleRequest({fromBlock:0},(function(e,o){console.log("Oracle services was requested"),e?console.log(e):function(){for(var e,s=o.returnValues.flightInfo,n=o.returnValues.timestamp,t=(e=Math.floor(Math.random()*p.length),p[e]),r=o.returnValues.index,c=o.returnValues.airline,a=function(e){console.log(r),console.log(h[e].index),h[e].index.includes(r)&&(console.log("found include"),f.methods.submitOracleResponse(r,c,s,n,t).send({from:h[e].address,gas:1e5},(function(o,s){console.log("Oracle response has been submitted"),o?console.log(o):console.log("".concat(JSON.stringify(h[e]),": Status code ").concat(t))})))},l=0;l<h.length;l++)a(l)}()}));var m=u()();m.get("/api",(function(e,o){o.send({message:"An API for use with your Dapp!"})})),o.default=m}};